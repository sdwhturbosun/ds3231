<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0049)http://www.waveshare.net/study/article-623-1.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>树莓派系列教程16：RTC - 树莓派  微雪课堂 </title>
<script type="text/javascript" charset="utf-8" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/NDM4ODYxNTg=.js"></script><script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/brush.js" type="text/javascript"></script>
<link type="text/css" rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/shCore.css">
<link type="text/css" rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/shThemeDefault.css">
<script type="text/javascript">
SyntaxHighlighter.config.clipboardSwf = 'static/js/code/scripts/clipboard.swf';
SyntaxHighlighter.all();
</script> 
<meta name="keywords" content="树莓派系列教程16：RTC">
<meta name="description" content="树莓派本身没有RTC功能，若树莓派不联网则无法从网络获取正确时间，Pioneer600扩展板上面带有高精度RTC时钟DS3231芯片，可解决这个问题。一、配置RTC1、修改配置文件sudo vi /boot/config.txt添加RTC设备ds3231dtove ... ,微雪课堂">
<meta name="generator" content="Discuz! X3.2">
<meta name="author" content="Discuz! Team and Comsenz UI Team">
<meta name="copyright" content="2001-2013 Comsenz Inc.">
<meta name="MSSmartTagsPreventParsing" content="True">
<meta http-equiv="MSThemeCompatible" content="Yes">
<!--<base href="http://www.waveshare.net/study/">--><base href="."><link rel="stylesheet" type="text/css" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/style_7_common.css"><link rel="stylesheet" type="text/css" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/style_7_portal_view.css"><link rel="stylesheet" id="css_extstyle" type="text/css" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/style.css"><script type="text/javascript">var STYLEID = '7', STATICURL = 'static/', IMGDIR = 'static/image/common', VERHASH = 'H2N', charset = 'utf-8', discuz_uid = '0', cookiepre = 'F6vr_2132_', cookiedomain = '', cookiepath = '/', showusercard = '1', attackevasive = '0', disallowfloat = '', creditnotice = '1|威望|,2|金钱|,3|贡献|', defaultstyle = './template/yl5361_city_d4/style/t5', REPORTURL = 'aHR0cDovL3d3dy53YXZlc2hhcmUubmV0L3N0dWR5L2FydGljbGUtNjIzLTEuaHRtbA==', SITEURL = 'http://www.waveshare.net/study/', JSPATH = 'data/cache/', CSSPATH = 'data/cache/style_', DYNAMICURL = '';</script>
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/common.js" type="text/javascript"></script>
<meta name="application-name" content="微雪课堂">
<meta name="msapplication-tooltip" content="微雪课堂">
<meta name="msapplication-task" content="name=微雪课堂;action-uri=http://www.waveshare.net/study/portal.php;icon-uri=http://www.waveshare.net/study/static/image/common/portal.ico"><meta name="msapplication-task" content="name=论坛;action-uri=http://www.waveshare.net/study/forum.php;icon-uri=http://www.waveshare.net/study/static/image/common/bbs.ico">
	
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/portal.js" type="text/javascript"></script>
    <script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/yl5361_pack.js" type="text/javascript"></script>
    <script type="text/javascript">jQuery.noConflict();</script>
    <script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/yl5361_SuperSlide.js" type="text/javascript"></script> 

    <!--[if IE 6]> 
    <script src="template/yl5361_city_d4/yl5361_style/js/yl5361_png.js" type="text/javascript"></script> 
    <script> 
    DD_belatedPNG.fix('.yl5361_nv img,.png,#hd h2 img,.yl5361_nv li,.yl5361_f_hot,.yl5361_wp1 #ft,.pgs #newspecial, .pgs #newspecialtmp,#post_reply, #post_replytmp,.flw_replybox .pnc,.yl5361_tab01 .frame-3-1-r,.yl5361_nv li.a a, .yl5361_nv li a:hover, .yl5361_nv li.hover a,.yl5361_title1 .titletext,.#qmenu,.fl .bm_h h2,.yl5361_f_tab3 .titletext,#yl5361_bm_h .xs2,.yl5361_hd,.yl5361_wp,.yl5361_title01 .titletext,.yl5361_title1 .title,.yl5361_tab1_r1 .ico1, .yl5361_tab1_r1 .ico2, .yl5361_tab1_r1 .ico3, .yl5361_tab1_r1 .ico4, .yl5361_tab1_r1 .ico5, .yl5361_tab1_r1 .ico6, .yl5361_tab1_r1 .ico7, .yl5361_tab1_r1 .ico8,.yl5361_topic_img3 .prev, .yl5361_topic_img3 .next'); 
    </script> 
    <![endif]--> 
    <script language="javascript"> 
    <!-- 
    window.onerror=function(){return true;} 
    // --> 
    </script>	
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/share.js"></script><script type="text/javascript" id="ZXljeZWYDaYYKIIKJUanPNWXFOOrbjQJ" charset="UTF-8" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/common_extra.js"></script><script type="text/javascript" id="seccodejs_cSq7aPYb" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/misc.php"></script><link rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/share_style0_24.css"><link rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/share_popup.css"><link rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/select_share.css"><link rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/imgshare.css"><link rel="stylesheet" href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/share_style0_16.css"></head>
<body id="nv_portal" class="pg_view" onkeydown="if(event.keyCode==27) return false;">

<div id="append_parent"><div id="ls_fastloginfield_ctrl_menu" class="sltm" style="display: none; width: 40px;"><ul><li class="current">用户名</li><li>Email</li></ul></div></div><div id="ajaxwaitid"></div>
<div id="toptb" class="cl">
<div class="wp">
<div class="z"><a href="http://www.waveshare.net/" target="_blank">微雪官网</a><a href="http://www.waveshare.net/wiki" target="_blank">产品资料</a><script type="text/javascript">var _speedMark = new Date();</script></div>
<div class="y">

<div class="yl5361_y_r">
<a id="switchblind" href="javascript:;" onclick="toggleBlind(this)" title="开启辅助访问" class="switchblind">开启辅助访问</a>
<a id="sslct" href="javascript:;" onmouseover="delayShow(this, function() {showMenu({&#39;ctrlid&#39;:&#39;sslct&#39;,&#39;pos&#39;:&#39;34!&#39;})});">切换风格</a>
</div>

<div class="yl5361_y_l"><script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/logging.js" type="text/javascript"></script>
<form method="post" autocomplete="off" id="lsform" action="http://www.waveshare.net/study/member.php?mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes" onsubmit="return lsSubmit();">
<div class="fastlg cl" id="yl5361_login">
<span id="return_ls" style="display:none"></span>
<div class="y pns">
<table cellspacing="0" cellpadding="0">
<tbody><tr>
<td>
<span class="ftid">
<select name="fastloginfield" id="ls_fastloginfield" width="40" tabindex="900" selecti="0" style="display: none;">


<option value="username"></option></select><a href="javascript:;" id="ls_fastloginfield_ctrl" style="width:40px" tabindex="900">用户名</a>
</span>
<script type="text/javascript">simulateSelect('ls_fastloginfield')</script>
</td>
<td><input type="text" name="username" id="ls_username" autocomplete="off" class="px vm" tabindex="901"></td>
<td><label for="ls_password" class="z psw_w">密码</label></td>
<td><input type="password" name="password" id="ls_password" class="px vm" autocomplete="off" tabindex="902"></td>
<td class="fastlg_l"><label for="ls_cookietime"><input type="checkbox" name="cookietime" id="ls_cookietime" class="pc" value="2592000" tabindex="903">自动登录</label></td>


<td><button type="submit" id="yl5361_td" tabindex="904">登录</button></td>
<td><a href="http://www.waveshare.net/study/member.php?mod=JoinUs">立即注册</a></td>
<td><a href="javascript:;" onclick="showWindow(&#39;login&#39;, &#39;member.php?mod=logging&amp;action=login&amp;viewlostpw=1&#39;)">找回密码</a></td>
</tr>
<tr>

</tr>
</tbody></table>
<input type="hidden" name="quickforward" value="yes">
<input type="hidden" name="handlekey" value="ls">
  </div>

<div class="fastlg_fm y" style="margin-right: 10px; padding-right: 10px">
<p><a href="http://www.waveshare.net/study/connect.php?mod=login&amp;op=init&amp;referer=portal.php%3Fmod%3Dview%26aid%3D623%26page%3D1%26&amp;statfrom=login_simple"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/qq_login.gif" class="vm" alt="QQ登录" data-bd-imgshare-binded="1"></a></p>
<p class="hm xg1" style="padding-top: 2px;">只需一步，快速开始</p>
</div>
</div>
</form>

</div>

</div>
</div>
</div>
<div id="sslct_menu" class="cl p_pop" style="display: none;">
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t1&#39;)" title="T1"><i style="background:#ED462E"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t2&#39;)" title="T2"><i style="background:#91BF3B"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t4&#39;)" title="T4"><i style="background:#FF9300"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t5&#39;)" title="T5"><i style="background:#36A5E8"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t6&#39;)" title="T6"><i style="background:#8E55B2"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t7&#39;)" title="T7"><i style="background:#3E895F"></i></span>
<span class="sslct_btn" id="yl5361_sslct_btn" onclick="extstyle(&#39;./template/yl5361_city_d4/style/t8&#39;)" title="T8"><i style="background:#936C4D"></i></span>
</div>

<div id="qmenu_menu" class="p_pop blk" style="display: none;">
<div class="ptm pbw hm">
请 <a href="javascript:;" class="xi2" onclick="lsSubmit()"><strong>登录</strong></a> 后使用快捷导航<br>没有帐号？<a href="http://www.waveshare.net/study/member.php?mod=JoinUs" class="xi2 xw1">立即注册</a>
</div>
<div id="fjump_menu" class="btda"></div></div>

<div id="hd"><div class="yl5361_hd">
<div class="wp">
<div class="hdc cl"><h2><a href="http://www.waveshare.net/study/" title="微雪课堂"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/logo.png" alt="微雪课堂" border="0" data-bd-imgshare-binded="1"></a></h2>
<div class="yl5361_scbar">
  <div id="scbar" class="cl">
  <form id="scbar_form" method="post" autocomplete="off" onsubmit="searchFocus($(&#39;scbar_txt&#39;))" action="http://www.waveshare.net/study/search.php?searchsubmit=yes" target="_blank">
<input type="hidden" name="mod" id="scbar_mod" value="search">
<input type="hidden" name="formhash" value="f236c25e">
<input type="hidden" name="srchtype" value="title">
<input type="hidden" name="srhfid" value="0">
<input type="hidden" name="srhlocality" value="portal::view">
<table cellspacing="0" cellpadding="0">
<tbody><tr>

<td class="scbar_txt_td"><input type="text" name="srchtxt" id="scbar_txt" value="请输入搜索内容" autocomplete="off" x-webkit-speech="" speech="" class=" xg1" placeholder="请输入搜索内容"></td>
<td class="scbar_type_td"><a href="javascript:;" id="scbar_type" class="xg1" onclick="showMenu(this.id)" hidefocus="true">搜索</a></td>
<td class="scbar_btn_td"><button type="submit" name="searchsubmit" id="scbar_btn" sc="1" class="pn pnc" value="true"><strong class="xi2">搜索</strong></button></td>
</tr>
<tr>
  <td colspan="4">
    </td>
  </tr>
</tbody></table>
</form>
</div>
<ul id="scbar_type_menu" class="p_pop" style="display: none;"><li><a href="javascript:;" rel="article">文章</a></li><li><a href="javascript:;" rel="user">用户</a></li></ul>
<script type="text/javascript">
initSearchmenu('scbar', '');
</script>
</div>
  </div>
    </div>
      </div>
          <div id="yl5361_nv" class="yl5361_nv_f" style="position: fixed; top: 0px; width: 100%; z-index: 199; left: 0px; margin-top: 0px; opacity: 0.9; height: 55px;">
             <div class="wp">
<div class="yl5361_nv">					
<ul>
<a href="javascript:void(0)" onclick="showWindow(&#39;nav&#39;,&#39;forum.php?mod=misc&amp;action=nav&#39;)" class="yl5361_post"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/yl5361_post.png" data-bd-imgshare-binded="1"></a><li class="a" id="mn_portal"><a href="http://www.waveshare.net/study/portal.php" hidefocus="true">微雪课堂</a></li><li id="mn_P58"><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=58" hidefocus="true">micro:bit</a></li></ul>
</div>
</div>
</div>
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/yl5361_nv.js" type="text/javascript"></script>
              
<ul class="p_pop h_pop" id="mn_forum_menu" style="display: none"><li><a href="http://www.waveshare.net/study/forum-new.php" hidefocus="true">快速发帖</a></li><li><a href="http://www.waveshare.net/study/forum-1-1.html" hidefocus="true">创客社区</a></li><li><a href="http://www.waveshare.net/study/forum-47-1.html" hidefocus="true">教程</a></li><li><a href="http://www.waveshare.net/study/forum-46-1.html" hidefocus="true">产品服务</a></li></ul><div class="p_pop h_pop" id="mn_userapp_menu" style="display: none"></div><div id="mu" class="cl">
</div></div>	
            
<div class="yl5361_wp">
  <div class="yl5361_wp_1">
<div id="wp" class="wp">
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/forum_viewthread.js" type="text/javascript"></script>
<script type="text/javascript">zoomstatus = parseInt(1), imagemaxwidth = '600', aimgcount = new Array();</script>
<div id="pt" class="bm cl">
<div class="z">
<a href="http://www.waveshare.net/study/" class="nvhm" title="首页">微雪课堂</a> <em>›</em>
<a href="http://www.waveshare.net/study/portal.php">微雪课堂</a> <em>›</em><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=29">树莓派</a> <em>›</em>
查看内容
</div>
</div>

<style id="diy_style" type="text/css"></style>
<div class="wp">
<!--[diy=diy1]--><div id="diy1" class="area"></div><!--[/diy]-->
</div>
<div id="ct" class="ct2 wp cl">
<div class="mn">
<div class="bm vw yl5361_borde">
<div class="h hm">
<h1 class="ph">树莓派系列教程16：RTC </h1>
<p class="xg1">
2015-9-2 09:34<span class="pipe">|</span>
发布者: <a href="http://www.waveshare.net/study/home.php?mod=space&amp;uid=2406">MyMX1213</a><span class="pipe">|</span>
查看: <em id="_viewnum">9203</em><span class="pipe">|</span>
评论: 0<span class="pipe">|</span>原作者: MyMX1213</p>
</div>

<!--[diy=diysummarytop]--><div id="diysummarytop" class="area"></div><!--[/diy]-->

<div class="s"><div><strong>摘要</strong>: 树莓派本身没有RTC功能，若树莓派不联网则无法从网络获取正确时间，Pioneer600扩展板上面带有高精度RTC时钟DS3231芯片，可解决这个问题。一、配置RTC1、修改配置文件sudo vi /boot/config.txt添加RTC设备ds3231dtove ...</div></div>
<!--[diy=diysummarybottom]--><div id="diysummarybottom" class="area"></div><!--[/diy]-->

<div class="d">

<!--[diy=diycontenttop]--><div id="diycontenttop" class="area"></div><!--[/diy]-->

<table cellpadding="0" cellspacing="0" class="vwtb"><tbody><tr><td id="article_content"><p class="MsoNormal" style="margin-left: 18pt;"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">树莓派本身</span><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);">没有<font face="Tahoma">RTC</font><font face="宋体">功能，若树莓派不联网则无法从网络获取正确时间，</font><font face="Tahoma">Pioneer&nbsp;600</font><font face="宋体">扩展板上面带有高精度</font><font face="Tahoma">RTC</font><font face="宋体">时钟</font><font face="Tahoma">DS3231</font><font face="宋体">芯片，可解决这个问题。</font></span></p><p class="MsoNormal" style="margin-left: 18pt;"><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);"><font face="宋体">一、配置RTC</font></span></p><p class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-family: Tahoma; font-size: 9pt; background: rgb(255, 255, 255);">1、&nbsp;</span><!--[endif]--><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);">修改配置文件</span></p><div><div id="highlighter_603941" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_603941_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_603941" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo vi /boot/config.txt</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt;"><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);">添加<font face="Tahoma">RTC</font><font face="宋体">设备</font><font face="Tahoma">ds3231</font></span></p><div><div id="highlighter_279807" class="syntaxhighlighter  "><div class="bar  "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_279807_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_279807" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">dtoverlay=i2c-rtc,ds3231</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt;"><span style="font-family: 宋体; font-size: 9pt; line-height: 1.8em; background-color: rgb(255, 255, 255);">重启树莓派生效设置，开机后可以运行</span><font face="Tahoma" style="font-size: 9pt; line-height: 1.8em;">lsmod</font><font face="宋体" style="font-family: 宋体; font-size: 9pt; line-height: 1.8em;">命令查看时候有</font><font face="Tahoma" style="font-size: 9pt; line-height: 1.8em;">rtc-1307</font><font face="宋体" style="font-family: 宋体; font-size: 9pt; line-height: 1.8em;">模块。</font></p><p class="MsoNormal" style="margin-left: 36pt;"><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);">（注：<font face="Tahoma">ds3231</font><font face="宋体">为</font><font face="Tahoma">i2c</font><font face="宋体">控制，故应打开树莓派</font><font face="Tahoma">I2C</font><font face="宋体">功能）</font></span><span style="font-family: 宋体; font-size: 9pt; background: rgb(255, 255, 255);"><o:p></o:p></span></p><p class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">2、&nbsp;</span><!--[endif]--><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">读取<font face="Tahoma">RTC</font><font face="宋体">时钟，</font></span></p><div><div id="highlighter_179649" class="syntaxhighlighter  "><div class="bar  "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_179649_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_179649" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo hwclock –r</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt;"><span style="color: rgb(85, 85, 85); font-family: 宋体; font-size: 9pt; line-height: 1.8em; background-color: rgb(255, 255, 255);">读取系统时间</span></p><div><div id="highlighter_500827" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_500827_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_500827" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="functions">date</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">3、&nbsp;</span><!--[endif]--><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">设置<font face="Tahoma">RTC</font><font face="宋体">时间</font></span></p><div><div id="highlighter_978003" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_978003_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_978003" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo hwclock –set –</code><code class="functions">date</code><code class="plain">=”2015/08/12 18:00:00”</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">4、&nbsp;</span><!--[endif]--><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">更新<font face="Tahoma">RTC</font><font face="宋体">时间到系统</font></span></p><div><div id="highlighter_79297" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_79297_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_79297" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo hwclock -s</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt; text-indent: -18pt;"><!--[if !supportLists]--><span style="font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">5、&nbsp;</span><!--[endif]--><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">读取<font face="Tahoma">RTC</font><font face="宋体">时间及系统时间</font></span></p><div><div id="highlighter_859305" class="syntaxhighlighter  "><div class="bar "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_859305_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_859305" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo hwclock –r;</code><code class="functions">date</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal" style="margin-left: 36pt;"> </p><p style="text-align: center;"><a href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/093948zp5fmg6pmcggnyrp.png" target="_blank"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/093948zp5fmg6pmcggnyrp.png" data-bd-imgshare-binded="1"></a></p><p style="text-align: left;">二、编程控制</p><p style="text-align: left;"><span class="Apple-tab-span" style="white-space:pre">	</span><span style="line-height: 1.8em; font-family: 宋体; color: rgb(85, 85, 85); font-size: 9pt; background: rgb(255, 255, 255);">我们也可以通过<font face="Tahoma">I2C</font><font face="宋体">编程读写</font><font face="Tahoma">RTC</font><font face="宋体">时间，运行</font><font face="Tahoma">i2cdetect&nbsp;</font></span><span style="line-height: 1.8em; font-family: Tahoma; color: rgb(85, 85, 85); font-size: 9pt; background: rgb(255, 255, 255);">–</span><span style="line-height: 1.8em; font-family: 宋体; color: rgb(85, 85, 85); font-size: 9pt; background: rgb(255, 255, 255);">y&nbsp;1<font face="宋体">命令我们可以看到下图，我们发现</font><font face="Tahoma">ds3231</font><font face="宋体">的</font><font face="Tahoma">i2c</font><font face="宋体">地址</font><font face="Tahoma">0x68</font><font face="宋体">的位置显示</font><font face="Tahoma">UU,</font><font face="宋体">此时</font><font face="Tahoma">ds3231</font><font face="宋体">作为树莓派的硬件时钟，不能通过</font><font face="Tahoma">i2c</font><font face="宋体">编程控制，必须将刚才配置文件中的设置注释掉才能用。</font></span></p><p style="text-align: left;"><span style="line-height: 1.8em; font-family: 宋体; color: rgb(85, 85, 85); font-size: 9pt; background: rgb(255, 255, 255);"></span></p><p><a href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094102d1b57ykkf1c4t454.png" target="_blank"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094102d1b57ykkf1c4t454.png" data-bd-imgshare-binded="1"></a></p><div><div id="highlighter_543499" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_543499_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_543499" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo vi /boot/config.txt</code></td></tr></tbody></table></div></div></div></div> <p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">找到刚才的设置，在前面加</span><span style="mso-spacerun:&#39;yes&#39;; font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">’</span><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">#</span><span style="mso-spacerun:&#39;yes&#39;; font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">’</span><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">注释掉</span></p><div><div id="highlighter_683712" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_683712_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_683712" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">#dtoverlay=i2c-rtc,ds3231</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); "> </span></p><p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">重启后再运行<font face="Tahoma">i2cdetect&nbsp;</font></span><span style="mso-spacerun:&#39;yes&#39;; font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">–</span><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">y&nbsp;1<font face="宋体">此时发现</font><font face="Tahoma">ds3231</font><font face="宋体">可以通过</font><font face="Tahoma">i2c</font><font face="宋体">编程控制</font></span><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); "><o:p></o:p></span></p><p><a href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094236i0ng0qs6lxzjcc6q.png" target="_blank"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094236i0ng0qs6lxzjcc6q.png" data-bd-imgshare-binded="1"></a></p><p>1、bcm2835</p><div><div id="highlighter_238084" class="syntaxhighlighter  "><div class="bar         "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_238084_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_238084" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">#</code><code class="keyword">include</code> <code class="plain">&lt;bcm2835.h&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">#</code><code class="keyword">include</code> <code class="plain">&lt;stdio.h&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">#</code><code class="keyword">include</code> <code class="plain">&lt;unistd.h&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="comments">//regaddr,seconds,minutes,hours,weekdays,days,months,yeas</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">char&nbsp; buf[]={0x00,0x00,0x00,0x18,0x04,0x12,0x08,0x15};</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">char&nbsp; *str[]&nbsp; ={</code><code class="string">"SUN"</code><code class="plain">,</code><code class="string">"Mon"</code><code class="plain">,</code><code class="string">"Tues"</code><code class="plain">,</code><code class="string">"Wed"</code><code class="plain">,</code><code class="string">"Thur"</code><code class="plain">,</code><code class="string">"Fri"</code><code class="plain">,</code><code class="string">"Sat"</code><code class="plain">};</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">void pcf8563SetTime()</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">{</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_write(buf,8);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">void pcf8563ReadTime() </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">{&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[0] = 0x00;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_write_read_rs(buf ,1, buf,7);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">} </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">int main(int argc, char **argv)&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">{&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(!bcm2835_init())</code><code class="keyword">return</code> <code class="plain">1;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_begin();&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_setSlaveAddress(0x68);&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_set_baudrate(10000);&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf(</code><code class="string">"start..........\n"</code><code class="plain">); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pcf8563SetTime(); </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code class="plain">(1)&nbsp; </code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{&nbsp;&nbsp; </code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">pcf8563ReadTime();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[0] = buf[0]&amp;0x7F; </code><code class="comments">//sec</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[1] = buf[1]&amp;0x7F; </code><code class="comments">//min</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[2] = buf[2]&amp;0x3F; </code><code class="comments">//hour</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[3] = buf[3]&amp;0x07; </code><code class="comments">//week</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[4] = buf[4]&amp;0x3F; </code><code class="comments">//day</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">buf[5] = buf[5]&amp;0x1F; </code><code class="comments">//mouth</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//year/month/day</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf(</code><code class="string">"20%02x/%02x/%02x&nbsp; "</code><code class="plain">,buf[6],buf[5],buf[4]);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//hour:minute/second</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf(</code><code class="string">"%02x:%02x:%02x&nbsp; "</code><code class="plain">,buf[2],buf[1],buf[0]);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="comments">//weekday</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">printf(</code><code class="string">"%s\n"</code><code class="plain">,str[(unsigned char)buf[3]-1]);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_delay(1000);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_i2c_end();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bcm2835_close();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">0;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div></div><p> </p><p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); ">编译并执行</span></p><div><div id="highlighter_389950" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_389950_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_389950" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">gcc –Wall ds3231.c –o ds3231 –lbcm2835</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">sudo ./ds3231</code></td></tr></tbody></table></div></div></div></div><p class="MsoNormal"> </p><p><a href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094535iw5xhufefuwefii2.png" target="_blank"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094535iw5xhufefuwefii2.png" data-bd-imgshare-binded="1"></a></p><p>2、python</p><div><div id="highlighter_886724" class="syntaxhighlighter  "><div class="bar           "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_886724_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_886724" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">#!/usr/bin/python</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain"># -*- coding: utf-8 -*-</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">import smbus</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">import time</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">address = 0x68</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">register = 0x00</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">#sec min hour week day mout year</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">NowTime = [0x00,0x00,0x18,0x04,0x12,0x08,0x15]</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">w&nbsp; = [</code><code class="string">"SUN"</code><code class="plain">,</code><code class="string">"Mon"</code><code class="plain">,</code><code class="string">"Tues"</code><code class="plain">,</code><code class="string">"Wed"</code><code class="plain">,</code><code class="string">"Thur"</code><code class="plain">,</code><code class="string">"Fri"</code><code class="plain">,</code><code class="string">"Sat"</code><code class="plain">];</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">#/dev/i2c-1</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">bus = smbus.SMBus(1)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">def ds3231SetTime():</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">bus.write_i2c_block_data(address,register,NowTime)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">def ds3231ReadTime():</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">bus.read_i2c_block_data(address,register,7);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">ds3231SetTime()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="keyword">while</code> <code class="plain">1:</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t = ds3231ReadTime()</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[0] = t[0]&amp;0x7F&nbsp; #sec</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[1] = t[1]&amp;0x7F&nbsp; #min</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[2] = t[2]&amp;0x3F&nbsp; #hour</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[3] = t[3]&amp;0x07&nbsp; #week</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[4] = t[4]&amp;0x3F&nbsp; #day</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">t[5] = t[5]&amp;0x1F&nbsp; #mouth</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">print(</code><code class="string">"20%x/%x/%x %x:%x:%x&nbsp; %s"</code> <code class="plain">%(t[6],t[5],t[4],t[2],t[1],t[0],w[t[3]-1]))</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">time.sleep(1)</code></td></tr></tbody></table></div></div></div></div><p>执行程序</p><div><div id="highlighter_926444" class="syntaxhighlighter  "><div class="bar "><div class="toolbar"><a href="http://www.waveshare.net/study/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_926444_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_926444" menu="false" src="static/js/code/scripts/clipboard.swf"></div><a href="http://www.waveshare.net/study/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://www.waveshare.net/study/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">sudo python ds3231.py</code></td></tr></tbody></table></div></div></div></div><p><a href="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094535icvpsycgmkk8im57.png" target="_blank" style="line-height: 1.8em;"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/094535icvpsycgmkk8im57.png" data-bd-imgshare-binded="1"></a></p><p class="MsoNormal"><span style="mso-spacerun:&#39;yes&#39;; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); "><o:p></o:p></span></p></td></tr></tbody></table>

<!--[diy=diycontentbottom]--><div id="diycontentbottom" class="area"></div><!--[/diy]-->

<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/home.js" type="text/javascript"></script>
<div id="click_div">﻿<table cellpadding="0" cellspacing="0" class="atd">
<tbody><tr><td>
<a href="http://www.waveshare.net/study/home.php?mod=spacecp&amp;ac=click&amp;op=add&amp;clickid=1&amp;idtype=aid&amp;id=623&amp;hash=64f3a0db41aef84443cf7a29afe5700e&amp;handlekey=clickhandle" id="click_aid_623_1" onclick="showWindow(this.id, this.href);doane(event);">
<div class="atdc">
<div class="ac3" style="height:50px;">
<em>142</em>
</div>
</div>
<img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/xianhua.gif" alt="" data-bd-imgshare-binded="1"><br>顶一下</a>
</td>
</tr>
    <tr><td colspan="2">
<div class="bdsharebuttonbox bdshare-button-style0-24" data-bd-bind="1540859570718"><a href="http://www.waveshare.net/study/#" class="bds_more" data-cmd="more"></a><a href="http://www.waveshare.net/study/#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="http://www.waveshare.net/study/#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="http://www.waveshare.net/study/#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{},"image":{"viewList":["weixin","qzone","tsina","tqq","renren"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["weixin","qzone","tsina","tqq","renren"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</td></tr>
</tbody></table>
<script type="text/javascript">
function errorhandle_clickhandle(message, values) {
if(values['id']) {
showCreditPrompt();
show_click(values['idtype'], values['id'], values['clickid']);
}
}
</script>

<h3 class="mbm xs1">
刚表态过的朋友 (<a href="javascript:;" onclick="show_click(&#39;aid&#39;, &#39;623&#39;, &#39;1&#39;)">142 人</a>)
</h3>
</div>


<!--[diy=diycontentclickbottom]--><div id="diycontentclickbottom" class="area"></div><!--[/diy]-->

</div>

<div class="o cl ptm pbm">
<a href="http://www.waveshare.net/study/home.php?mod=spacecp&amp;ac=favorite&amp;type=article&amp;id=623&amp;handlekey=favoritearticlehk_623" id="a_favorite" onclick="showWindow(this.id, this.href, &#39;get&#39;, 0);" class="oshr ofav">收藏</a>
<a href="http://www.waveshare.net/study/misc.php?mod=invite&amp;action=article&amp;id=623" id="a_invite" onclick="showWindow(&#39;invite&#39;, this.href, &#39;get&#39;, 0);" class="oshr oivt">邀请</a>
</div>
<div class="pren pbm cl">
<em>上一篇：<a href="http://www.waveshare.net/study/article-622-1.html">树莓派系列教程15：红外遥控</a></em><em>下一篇：<a href="http://www.waveshare.net/study/article-624-1.html">树莓派系列教程17：PCF8591 AD/DA</a></em></div>
</div>

<!--[diy=diycontentrelatetop]--><div id="diycontentrelatetop" class="area"></div><!--[/diy]--><div id="related_article" class="bm yl5361_borde">
<div class="bm_h cl" id="yl5361_bm_h">
<h3>相关阅读</h3>
</div>
<div class="bm_c" id="yl5361_bm_c">
<ul class="xl xl2 cl" id="raid_div"><input type="hidden" value="594">
<li>• <a href="http://www.waveshare.net/study/article-594-1.html">树莓派系列教程1：人生若只如初见</a></li>
<input type="hidden" value="595">
<li>• <a href="http://www.waveshare.net/study/article-595-1.html">树莓派系列教程2：树莓派烧写镜像</a></li>
<input type="hidden" value="599">
<li>• <a href="http://www.waveshare.net/study/article-599-1.html">树莓派教程系列6：文件共享(samba)</a></li>
<input type="hidden" value="741">
<li>• <a href="http://www.waveshare.net/study/article-741-1.html">树莓派系列教程3：访问树莓派之SSH篇</a></li>
<input type="hidden" value="742">
<li>• <a href="http://www.waveshare.net/study/article-742-1.html">树莓派教程系列7：wiringPi、bcm2835、python库安装</a></li>
<input type="hidden" value="743">
<li>• <a href="http://www.waveshare.net/study/article-743-1.html">树莓派系列教程3：访问树莓派之WiFi篇</a></li>
<input type="hidden" value="791">
<li>• <a href="http://www.waveshare.net/study/article-791-1.html">树莓派3B+ 开箱测试</a></li>
<input type="hidden" value="853">
<li>• <a href="http://www.waveshare.net/study/article-853-1.html">树莓派系列教程：树莓派更新软件源配置</a></li>
</ul>
</div>
</div>

<!--[diy=diycontentrelate]--><div id="diycontentrelate" class="area"></div><!--[/diy]-->


<div id="comment" class="bm yl5361_borde">
<div class="bm_h cl" id="yl5361_bm_h">
<h3>最新评论</h3>
</div>
<div id="comment_ul" class="bm_c"><form id="cform" name="cform" action="http://www.waveshare.net/study/portal.php?mod=portalcp&amp;ac=comment" method="post" autocomplete="off">
<div class="tedt">
<div class="area">
<textarea name="message" rows="3" class="pt" id="message" onkeydown="ctrlEnter(event, &#39;commentsubmit_btn&#39;);"></textarea>
</div>
</div>

<div class="mtm"><span id="seccode_cSq7aPYb"><input name="seccodehash" type="hidden" value="cSq7aPYb"><input name="seccodemodid" type="hidden" value="portal::view">验证码 <span id="seccodecSq7aPYb" onclick="showMenu(this.id);"><input name="seccodeverify" id="seccodeverify_cSq7aPYb" type="text" autocomplete="off" style="ime-mode:disabled;width:100px" class="txt px vm" onblur="checksec(&#39;code&#39;, &#39;cSq7aPYb&#39;, 0, null, &#39;portal::view&#39;)"> <a href="javascript:;" onclick="updateseccode(&#39;cSq7aPYb&#39;);doane(event);" class="xi2">换一个</a><span id="checkseccodeverify_cSq7aPYb"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/none.gif" width="16" height="16" class="vm" data-bd-imgshare-binded="1"></span></span><div id="seccodecSq7aPYb_menu" class="p_pop p_opt" style="display:none"><span id="vseccode_cSq7aPYb">输入下图中的字符<br><img onclick="updateseccode(&#39;cSq7aPYb&#39;)" width="100" height="30" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/misc(1).php" class="vm" alt="" data-bd-imgshare-binded="1"></span></div></span>		
<script type="text/javascript" reload="1">updateseccode('cSq7aPYb', '<sec> <span id="sec<hash>" onclick="showMenu(this.id);"><sec></span><div id="sec<hash>_menu" class="p_pop p_opt" style="display:none"><sec></div>', 'portal::view');</script>
</div>
<input type="hidden" name="portal_referer" value="portal.php?mod=view&amp;aid=623#comment">
<input type="hidden" name="referer" value="portal.php?mod=view&amp;aid=623#comment">
<input type="hidden" name="id" value="0">
<input type="hidden" name="idtype" value="">
<input type="hidden" name="aid" value="623">
<input type="hidden" name="formhash" value="f236c25e">
<input type="hidden" name="replysubmit" value="true">
<input type="hidden" name="commentsubmit" value="true">
<p class="ptn"><button type="submit" name="commentsubmit_btn" id="commentsubmit_btn" value="true" class="pn"><strong>评论</strong></button></p>
</form>
</div>
</div>
<!--[diy=diycontentcomment]--><div id="diycontentcomment" class="area"></div><!--[/diy]-->


</div>
<div class="sd pph">


<div class="drag">
<!--[diy=diyrighttop]--><div id="diyrighttop" class="area"><div id="frameYEO5Ee" class="yl5361_title01 yl5361_borde frame move-span cl frame-1"><div class="title frame-title"><span class="titletext" style="color:rgb(255, 255, 255);">微雪课堂</span></div><div id="frameYEO5Ee_left" class="column frame-1-c"><div id="frameYEO5Ee_left_temp" class="move-span temp"></div><div id="portal_block_1824" class="block move-span"><div id="portal_block_1824_content" class="dxb_bc"><div class="yl5361_topic_01 ">
<ul><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=29" title="树莓派" target="_blank">树莓派</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=57" title="智能车" target="_blank">智能车</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=58" title="micro:bit" target="_blank">micro:bit</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=7" title="Arduino" target="_blank">Arduino</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=8" title="AVR" target="_blank">AVR</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=30" title="C8051" target="_blank">C8051</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=46" title="PIC" target="_blank">PIC</a></li><li><a href="http://www.waveshare.net/study/portal.php?mod=list&amp;catid=38" title="STM32" target="_blank">STM32</a></li></ul>
</div></div></div></div></div></div><!--[/diy]-->
</div>

<!--[diy=yl5361_tab_r1]--><div id="yl5361_tab_r1" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r2]--><div id="yl5361_tab_r2" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r3]--><div id="yl5361_tab_r3" class="area"><div id="tabCLeeLG" class="yl5361_tab1_l2 frame-tab move-span cl"><div id="tabCLeeLG_title" class="tab-title title column cl" switchtype="mouseover"><ul class="tb cl"><li id="portal_block_1825" class="a"><a href="javascript:;" onfocus="this.blur();" style="float:;margin-left:px;font-size:;color: !important;;">树莓派</a></li></ul></div><div id="tabCLeeLG_content" class="tb-c"><div id="portal_block_1825_content" class="dxb_bc"><div class="yl5361_topic1">
    <ul><dl class="on"><dt><em class="color">01</em><a href="http://www.waveshare.net/study/article-853-1.html" title="树莓派系列教程：树莓派更新软件源配置" target="_blank">树莓派系列教程：树莓派更新软件源配置</a></dt>
        <dd>不清楚树莓派软件源的童靴，可以先从下面截图的问题入手。笔者测试用的镜像是官方提供</dd>
    </dl><dl><dt><em class="color">02</em><a href="http://www.waveshare.net/study/article-791-1.html" title="树莓派3B+ 开箱测试" target="_blank">树莓派3B+ 开箱测试</a></dt>
        <dd>2018年03月14日树莓派发布，相信很多树莓派迷已经等了很久，希望树莓派官方发布最新版</dd>
    </dl><dl><dt><em class="color">03</em><a href="http://www.waveshare.net/study/article-790-1.html" title="SIM868 ppp拨号上网" target="_blank">SIM868 ppp拨号上网</a></dt>
        <dd>SIM868模块具有GPRS数据传输功能（2G网络),可以通过ppp拨号上网。</dd>
    </dl><dl><dt><em>04</em><a href="http://www.waveshare.net/study/article-789-1.html" title="树莓派引脚对照表" target="_blank">树莓派引脚对照表</a></dt>
            <dd>树莓派GPIO引脚对照表，没有屏幕首次登录开启串口登录和SSH.</dd>
        </dl><dl><dt><em>05</em><a href="http://www.waveshare.net/study/article-745-1.html" title="Alphabot树莓派教程：刷LEDE(OpenWRT)系统变身路由器" target="_blank">Alphabot树莓派教程：刷LEDE(OpenWRT)系统</a></dt>
            <dd>lede是openwrt的一个分支，openwrt本身还没有支持pi3</dd>
        </dl><dl><dt><em>06</em><a href="http://www.waveshare.net/study/article-744-1.html" title="Alphabot树莓派教程：变身路由器" target="_blank">Alphabot树莓派教程：变身路由器</a></dt>
            <dd>Raspberry Pi 3板载了无线网络适配器和陶瓷天线，不需要额外增加无线网卡就可以把它打</dd>
        </dl><dl><dt><em>07</em><a href="http://www.waveshare.net/study/article-625-1.html" title="树莓派系列教程18：SPI" target="_blank">树莓派系列教程18：SPI</a></dt>
            <dd>本章介绍树莓派SPI接口的开以及编程。</dd>
        </dl><dl><dt><em>08</em><a href="http://www.waveshare.net/study/article-624-1.html" title="树莓派系列教程17：PCF8591 AD/DA" target="_blank">树莓派系列教程17：PCF8591 AD/DA</a></dt>
            <dd>树莓派本身没有AD/DA功能，如果树莓派外接模拟传感器，则必须外接AD/DA功能扩展板才能</dd>
        </dl><dl><dt><em>09</em><a href="http://www.waveshare.net/study/article-623-1.html" title="树莓派系列教程16：RTC" target="_blank">树莓派系列教程16：RTC</a></dt>
            <dd>树莓派本身没有RTC功能，若树莓派不联网则无法从网络获取正确时间，Pioneer600扩展板</dd>
        </dl><dl><dt><em>010</em><a href="http://www.waveshare.net/study/article-622-1.html" title="树莓派系列教程15：红外遥控" target="_blank">树莓派系列教程15：红外遥控</a></dt>
            <dd>上一章我们介绍了如果通过树莓派devicetree,将在ds18b20添加到linux系统中，并通过命</dd>
        </dl><dl><dt><em>011</em><a href="http://www.waveshare.net/study/article-607-1.html" title="树莓派系列教程14：单总线控制DS18B20" target="_blank">树莓派系列教程14：单总线控制DS18B20</a></dt>
            <dd>本章讲解如果在linux系统下控制DS18B20</dd>
        </dl><dl><dt><em>012</em><a href="http://www.waveshare.net/study/article-606-1.html" title="树莓派系列教程13：Serial串口" target="_blank">树莓派系列教程13：Serial串口</a></dt>
            <dd>本章讲解如何使用树莓派串口</dd>
        </dl><dl><dt><em>013</em><a href="http://www.waveshare.net/study/article-605-1.html" title="树莓派系列教程12：I2C总线控制BMP180" target="_blank">树莓派系列教程12：I2C总线控制BMP180</a></dt>
            <dd>本章讲解如何实际通过I2C编程读取i2c接口的压强传感器BMP180</dd>
        </dl><dl><dt><em>014</em><a href="http://www.waveshare.net/study/article-604-1.html" title="树莓派系列教程11：I2C编程" target="_blank">树莓派系列教程11：I2C编程</a></dt>
            <dd>这一章通过一个简单的例程来讲解如果通过bcm2835,wiringPi,sysfs,python等方式来控制i</dd>
        </dl><dl><dt><em>015</em><a href="http://www.waveshare.net/study/article-603-1.html" title="树莓派系列教程10：I2C" target="_blank">树莓派系列教程10：I2C</a></dt>
            <dd>本章讲解如果启动树莓派I2C功能，以及使用i2c-tools工具操作i2c设备</dd>
        </dl><dl><dt><em>016</em><a href="http://www.waveshare.net/study/article-602-1.html" title="树莓派系列教程9：按键" target="_blank">树莓派系列教程9：按键</a></dt>
            <dd>本章将讲解树莓派的按键以及中断。</dd>
        </dl><dl><dt><em>017</em><a href="http://www.waveshare.net/study/article-601-1.html" title="树莓派系列教程8 : 如何点亮一个LED灯（下）" target="_blank">树莓派系列教程8 : 如何点亮一个LED灯（下</a></dt>
            <dd>本章讲解如果通过库函数编程操作树莓派GPIO</dd>
        </dl><dl><dt><em>018</em><a href="http://www.waveshare.net/study/article-600-1.html" title="树莓派系列教程8：如何点亮一个LED灯(上）" target="_blank">树莓派系列教程8：如何点亮一个LED灯(上）</a></dt>
            <dd>本章将简介在树莓派上面通过shell,sysfs,bcm2835,wiringPi,python等不同的编程方式点</dd>
        </dl><dl><dt><em>019</em><a href="http://www.waveshare.net/study/article-742-1.html" title="树莓派教程系列7：wiringPi、bcm2835、python库安装" target="_blank">树莓派教程系列7：wiringPi、bcm2835、pyth</a></dt>
            <dd>上一章我们讲解了在linux系统下如何通过读写设备文件的方式控制GPIO点亮LED灯，本章我</dd>
        </dl><dl><dt><em>020</em><a href="http://www.waveshare.net/study/article-599-1.html" title="树莓派教程系列6：文件共享(samba)" target="_blank">树莓派教程系列6：文件共享(samba)</a></dt>
            <dd>我们使用树莓派的时候经常要在windows和树莓派之间进行文件传输，使用samba服务可实现</dd>
        </dl><dl><dt><em>021</em><a href="http://www.waveshare.net/study/article-598-1.html" title="树莓派系列教程5：linux常用命令以及vi/vim编辑器" target="_blank">树莓派系列教程5：linux常用命令以及vi/vim</a></dt>
            <dd>本章介绍linux常用命令以及vim编辑器</dd>
        </dl><dl><dt><em>022</em><a href="http://www.waveshare.net/study/article-597-1.html" title="树莓派系列教程4：树莓派raspi-config配置" target="_blank">树莓派系列教程4：树莓派raspi-config配置</a></dt>
            <dd>本章介绍树莓派的配置以及wifi设置</dd>
        </dl><dl><dt><em>023</em><a href="http://www.waveshare.net/study/article-743-1.html" title="树莓派系列教程3：访问树莓派之WiFi篇" target="_blank">树莓派系列教程3：访问树莓派之WiFi篇</a></dt>
            <dd>WiFi设置  有线什么的都OUT了，无线才是王道，有wifi的日子才是好日子。本人从来是都</dd>
        </dl><dl><dt><em>024</em><a href="http://www.waveshare.net/study/article-741-1.html" title="树莓派系列教程3：访问树莓派之SSH篇" target="_blank">树莓派系列教程3：访问树莓派之SSH篇</a></dt>
            <dd>本章节主要讲解如果使用Xshell通过SSH访问树莓派</dd>
        </dl><dl><dt><em>025</em><a href="http://www.waveshare.net/study/article-596-1.html" title="树莓派系列教程3：访问树莓派" target="_blank">树莓派系列教程3：访问树莓派</a></dt>
            <dd>本章将介绍访问树莓派的几种方式。</dd>
        </dl><dl><dt><em>026</em><a href="http://www.waveshare.net/study/article-595-1.html" title="树莓派系列教程2：树莓派烧写镜像" target="_blank">树莓派系列教程2：树莓派烧写镜像</a></dt>
            <dd>本章教大家如何烧写树莓派系统并启动……</dd>
        </dl><dl><dt><em>027</em><a href="http://www.waveshare.net/study/article-594-1.html" title="树莓派系列教程1：人生若只如初见" target="_blank">树莓派系列教程1：人生若只如初见</a></dt>
            <dd>树莓派教程系列将带大家玩转树莓派，从菜鸟级别成为大湿级人物……</dd>
        </dl></ul></div></div></div><script type="text/javascript">initTab("tabCLeeLG","mouseover");</script></div></div><!--[/diy]-->
<!--[diy=yl5361_tab_r4]--><div id="yl5361_tab_r4" class="area"><div id="framey4fwsD" class="frame move-span cl frame-1"><div id="framey4fwsD_left" class="column frame-1-c"><div id="framey4fwsD_left_temp" class="move-span temp"></div><div id="portal_block_2048" class="block move-span"><div id="portal_block_2048_content" class="dxb_bc"><iframe width="320" height="420" class="share_self" frameborder="0" scrolling="no" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/index.html"></iframe></div></div></div></div></div><!--[/diy]-->
<!--[diy=yl5361_tab_r5]--><div id="yl5361_tab_r5" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r6]--><div id="yl5361_tab_r6" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r7]--><div id="yl5361_tab_r7" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r8]--><div id="yl5361_tab_r8" class="area"></div><!--[/diy]-->
<!--[diy=yl5361_tab_r9]--><div id="yl5361_tab_r9" class="area"></div><!--[/diy]-->

<div class="drag">
<!--[diy=diy2]--><div id="diy2" class="area"></div><!--[/diy]-->
</div>


</div>
</div>


<div class="wp mtn">
<!--[diy=diy3]--><div id="diy3" class="area"></div><!--[/diy]-->
</div>
<input type="hidden" id="portalview" value="1">	</div>	
      </div>	
</div>


<script type="text/javascript">var cookieLogin = Ajax("TEXT");cookieLogin.get("connect.php?mod=check&op=cookie", function() {});</script>

<div class="yl5361_ft">
<div id="ft" class="cl">
<div id="flk">
<p class="yl5361_p">
<a href="http://www.waveshare.net/" target="_blank">微雪官网</a><span class="pipe">|</span><a href="http://www.waveshare.net/wiki" target="_blank">产品资料</a><span class="pipe">|</span><a href="http://www.waveshare.net/study/forum.php?mobile=yes">手机版</a><span class="pipe">|</span><a href="http://www.waveshare.net/study/forum.php?mod=misc&amp;action=showdarkroom">小黑屋</a><span class="pipe">|</span><strong><a href="http://www.waveshare.net/forum" target="_blank">微雪课堂.</a></strong>
( <a href="http://www.miitbeian.gov.cn/" target="_blank">粤ICP备05067009号</a> )&nbsp;<a href="http://discuz.qq.com/service/security" target="_blank" title="防水墙保卫网站远离侵害"><img src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/security.png" data-bd-imgshare-binded="1"></a>&nbsp;&nbsp;<a href="http://stats.discuz.qq.com/?ADTAG=FROUM.FOOTER.CLICK.ICON" title="腾讯分析" target="_blank"><img title="腾讯分析" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/toss_11.gif" border="0" data-bd-imgshare-binded="1"></a><script type="text/javascript" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/ping.js" charset="utf-8"></script><script type="text/javascript" reload="1">pgvMain({"discuzParams":{"r2":"43886158","ui":0,"rt":"portal","pn":1,"qq":"000","logo":11},"extraParams":""});</script></p>
<p class="xs0">
GMT+8, 2018-10-30 08:32<span id="debuginfo">
, Processed in 0.068172 second(s), 24 queries
.
</span>
</p>
</div>
<div id="frt">
<p>Powered by <strong><a href="http://www.discuz.net/" target="_blank">Discuz!</a></strong> <em>X3.2</em> © 2001-2013 <a href="http://www.comsenz.com/" target="_blank">Comsenz Inc</a> &amp; <a href="http://addon.discuz.com/?@9792.developer" target="_blank">Style Design</a></p>
</div>

              </div>
<script src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/home.php" type="text/javascript"></script>
<div id="scrolltop" style="right: 0px; visibility: visible;">
<span hidefocus="true"><a title="返回顶部" onclick="window.scrollTo(&#39;0&#39;,&#39;0&#39;)" class="scrolltopa"><b>返回顶部</b></a></span>
</div>
<script type="text/javascript">_attachEvent(window, 'scroll', function () { showTopLink(); });checkBlind();</script>

<script type="text/javascript">jQuery(".yl5361_topic1,.yl5361_forum_map").slide({ titCell:"dl",triggerTime:0 });</script>
<script type="text/javascript">jQuery(".yl5361_topic_img2").slide({ mainCell:".list1", effect:"topLoop", vis:4, opp:true, autoPlay:true, delayTime:800,interTime:4000});</script>
<script type="text/javascript">jQuery(".yl5361_topic_img3").slide({ mainCell:"ul", effect:"leftLoop", vis:5, scroll:2,  autoPage:true,autoPlay:true,interTime:4000,easing:"easeOutCirc"});	</script>
<script type="text/javascript">jQuery(".yl5361_topic_img1,.yl5361_topic_img5,.yl5361_topic3").slide({ titCell:"li",triggerTime:0 });</script>
<script type="text/javascript">jQuery(".yl5361_f_tab1_list1").slide({ mainCell:".list1", effect:"leftLoop", vis:1, opp:true, autoPlay:true, delayTime:800,interTime:4000});</script>

			<div id="discuz_tips" style="display:none;"></div>
			<script type="text/javascript">
				var tipsinfo = '43886158|X3.2|0.6||0||0|7|1540859566|5a892dc30b6048716b51022823bdfc74|2';
			</script>
			<script src="http://discuz.gtimg.cn/cloud/scripts/discuz_tips.js?v=1" type="text/javascript" charset="UTF-8"></script></div>


<iframe frameborder="0" id="bdSharePopup_selectshare1540859570754bg" class="bdselect_share_bg" style="display:none;" src="./树莓派系列教程16：RTC - 树莓派 微雪课堂_files/saved_resource.html"></iframe><div id="bdSharePopup_selectshare1540859570754box" style="display: none;" share-type="selectshare" class="bdselect_share_box" data-bd-bind="1540859570751"><div class="selectshare-mod-triangle"><div class="triangle-border"></div><div class="triangle-inset"></div></div><div class="bdselect_share_head"><span>分享到</span><a href="http://www.baidu.com/s?wd=&amp;tn=SE_hldp08010_vurs2xrp" class="bdselect_share_dialog_search" target="_blank"><i class="bdselect_share_dialog_search_i"></i><span class="bdselect_share_dialog_search_span">百度一下</span></a><a class="bdselect_share_dialog_close"></a></div><div class="bdselect_share_content"><ul class="bdselect_share_list bdshare-button-style0-24"><div class="bdselect_share_partners"><a href="http://www.waveshare.net/study/#" class="bds_weixin" data-cmd="weixin"></a><a href="http://www.waveshare.net/study/#" class="bds_qzone" data-cmd="qzone"></a><a href="http://www.waveshare.net/study/#" class="bds_tsina" data-cmd="tsina"></a><a href="http://www.waveshare.net/study/#" class="bds_tqq" data-cmd="tqq"></a><a href="http://www.waveshare.net/study/#" class="bds_renren" data-cmd="renren"></a></div><a href="http://www.waveshare.net/study/#" class="bds_more" data-cmd="more"></a></ul></div></div><div id="bdimgshare_1540859570778" class="sr-bdimgshare sr-bdimgshare-list sr-bdimgshare-16 sr-bdimgshare-black" style="height: 36px; line-height: 26px; font-size: 12px; position: absolute; top: 3258.53px; left: 208.5px; width: 702px; display: none;" data-bd-bind="1540859570778"><div class="bdimgshare-bg"></div><div class="bdimgshare-content bdsharebuttonbox bdshare-button-style0-16"><label class="bdimgshare-lbl">分享到：</label><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_weixin" data-cmd="weixin" hidefocus=""></a><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_qzone" data-cmd="qzone" hidefocus=""></a><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_tsina" data-cmd="tsina" hidefocus=""></a><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_tqq" data-cmd="tqq" hidefocus=""></a><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_renren" data-cmd="renren" hidefocus=""></a><a href="http://www.waveshare.net/study/#" onclick="return false;" class="bds_more" data-cmd="more" hidefocus=""></a></div></div></body></html>